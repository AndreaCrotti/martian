<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Remote graphs</title>
		<meta name="description" content="">
		<meta name="author" content="Oliver Hine">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-species-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="css/martian.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="img/curiosity.jpg" style="text-align: left;">
          <h1>Remote graphs</h1>
          <p style="color: white; padding-left: 18px;">Oliver Hine</p>
          <br/><br/><br/><br/>
          <div style="text-align: center; vertical-align: bottom; bottom: 0;">
            <a style="color: white" class="github" target="_blank" href="https://github.com/oliyh/martian">
              <img class="logo" src="img/github.png"/>
              oliyh/martian
            </a>
            <a style="color: white" class="github" target="_blank" href="https://github.com/funcool/urania">
              funcool/urania
            </a>
            <a style="color: white" class="github" target="_blank" href="https://github.com/walmartlabs/lacinia">
              walmartlabs/lacinia
            </a>

          </div>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <h2>Networking</h2>
          <br/>
          <img class="stretch no-border" src="img/seven-layers.jpg"/>
          <aside class="notes">
            I'm not going to talk about networking. All you need to know is that there are seven layers or something, but the important part is that each layer
            hides the complexities of the layer below. As an app developer I don't really know what they do, and it doesn't really matter.
          </aside>
        </section>


        <section>
          <h2>HTTP</h2>
          <pre><code class="hljs" data-trim>
(defn create-pet []
  (http/post "https://api.com/create-pet/dog"))
          </code></pre>
          <aside class="notes">
            I know about HTTP because that's the interface I have to program against to talk to the world. It can look pretty simple...
          </aside>
        </section>

        <section>
          <img class="stretch no-border" src="img/sweet.jpg"/>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <h2>HTTP</h2>
          <pre><code class="hljs" data-trim>
(defn create-pet [metrics host port creds species name age]
  (timing metrics "create-pet"
    (http/post (format "https://%s:%s/create-pet/%s" host port species)
               {:as :json
                :query-params {:age age}
                :body (json/encode {:name name))
                :headers {"Content-Type" "application/json"
                          "Authorization" (str "Token" creds)}})))
          </code></pre>
          <aside class="notes">
            ... but you pretty rapidly uncover a lot of complexities.
          </aside>
        </section>

        <section>
          <img class="stretch no-border" src="img/i-double-dare-you.jpg"/>
          <aside class="notes">
            I don't want this leaking into my application code, the same as I don't want database drivers and credentials either.
          </aside>
        </section>

        <section>
          <h2>Describe</h2>
          <pre><code class="hljs" data-trim>
{:route-name :create-pet
 :produces ["application/xml"]
 :consumes ["application/xml"]
 :path-parts ["/pets/" :species]
 :method :post
 :path-schema {:species Species}
 :body-schema {:pet {:id   s/Int
                     :name s/Str}}
          </code></pre>
          <aside class="notes">
            I want to be able to describe these remote services (or even better, they describe themselves) and let something else handle the details...
          </aside>
        </section>

        <section>
          <h2>Call stack</h2>
          <br/>
          <img class="stretch no-border" src="img/martian-call-stack-auth-timing.png"/>
          <aside class="notes">
            Martian exposes its call stack as a chain of interceptors, meaning adding any aspect - like metrics or authentication - doesn't pollute your business
            level code either.
          </aside>
        </section>

        <section>
          <h2>Call</h2>
          <pre><code class="hljs" data-trim>
              (martian/response-for m :create-pet {:name "Charlie"
                                     :species "Dog"
                                     :age 3})
          </code></pre>
          <aside class="notes">
            ... so that I can just call them like functions.
            This is a library called Martian, and like the layers of networking it hides all the complexity that has no relevance to the layer above it.
          </aside>
        </section>

        <section>
          <h2>All gone!</h2>
          <br/>
          <img class="stretch no-border" src="img/banksy-sweep.jpg"/>
          <aside class="notes">
            What else can we do?
          </aside>
        </section>

        <section>
          <h2>What if...</h2>
          <br/>
          <img class="stretch no-border" src="img/bored-elon-musk.png"/>
          <aside class="notes">
            Let's build this.
          </aside>
        </section>

        <section>
          <h2>Fetches</h2>
          <br/>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="681px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36&quot; version=&quot;8.7.10&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;5ca0d537-4f53-13bc-809f-bd52606a6326&quot; name=&quot;Page-1&quot;&gt;5VtLl6MoGP01LnuOgq8sK+nHLGbO6TO16OklUco4RUJGsZKaXz+oEAVJOp3y1alkEfnkIZfrx8eFWHC1PX7J0H7zJ40xsYAdHy340QLAgd6C/5SW19oShKA2JFkai0yN4TH9DwujLaxFGuNcycgoJSzdq8aI7nY4YooNZRk9qNmeKFFb3aMEdwyPESJd67c0Zhth9T23ufE7TpONbNrxRY/XKHpOMlrsRIMWgE/Vp769RbIy0dN8g2J6aJngJwuuMkpZfbU9rjApwZW41eU+n7l7evAM79hVBYK6xAsiBZaPXD0Ye5Vo4F38UILKUxFBeZ5GFlxu2JZwg8MveVPZ6988Yf8GPJn+XqbLxDFl9T1PpL6LYjnL6PMJX1BaJBhlwaeUkBUlNKseokQRRNGpWOuObX/mH36n23cBR06LLBKdEf1lKEuwzCVGFccKKwRgXzDdYt4hnuHQcMET47dpsUDaMkwQS19ULiFByeRU3amFrzTlDwxs8fp4vqhHvDwgsNUq6u6IUu2x1SryoadU5ACtohqETkX8otXtxlRRx0wj2GURfEgoTQj+ENHttmDYKlv3Ccdquc74VVJeWcGSZ+QNbWhcZ/i3KKm//IbIc5Oygo+GsjpPq9cOx4Jeh03K8OMeVQN/4H5KJe1ZsrzgjOHjRR7Iuwt1oBxbpFs8OWHeJopvn+eEMggXEHf7RvxrsSb8zZ455t6EkHt9Q75C2dzxhnBCwH0T4HsaRyhnH6IN4pM/yWcImhtMCJphQm9Aw/s0p2Vo1TNo2mQdeziMXdNkHYI19P2BYA5HhDl8PzCHGsyLEWFe3Ahz5XKFi1B8Lr9C2xLWqgRvRqbF8AzojqcZPS1IAWP6IrmeO+PBMxzzjqWofyd+9eIh9te+N5A/AmMi7bwnpH1nQqTBJaSf0AtfnXHE5hiX6LCNGpfAoNP/csH9KJI7uuM/ywYSWxMZzuoILfkh6MgP/2DGXoXAhApGuYlmPBBP6A6RPyjdW1OKEVJ5aKsRUPDrh2rE1TLD1czurikfqgyC3PkFAts/7ym88mvC0K8+fflkVQOBBldhFHN6cRWGFWPnHbheXJu9tibdS5vO/pVsHkdb0yUbVx/ma7U14GoVOVpF/WlrjmEZfM8s8rskCmZFIh+oPmVxI4f0epwBOWRYrt4zh2Q4rMj8106s07DoVO9baQTd4WhkWI6/gUbdcG12PAIGHs1ru0jf5elELrduF0GdkP3xCBhXq1JKH2+xGkbYzJJ16LmePYyEPuZiVb6f7wJob0KcL26A3hnOehA9KtCGfc97DmRk99oT0LzmH+2tc28NY06U0bcZBph+3tm6XHonRWaaFYn0wb91SdUh0XBLKtPu9F2TyLCk8uZFonNnFX6aRXpFAx6c8i8EALdI4N0TePOWwE0H8qaTwA2nJ2oJXJzv+RUlcEcXGgy7PoNJ4KZzEm/wkvM/X2rY0ZmZfNlbwGZrFenutse5tg/daWZEMcRkMyNKJ5i69SCyswhVDzRcVCZn7mGYclG7nIZG3uxpBPyeaKRXNCSNQIdGf+G8IOwXnP+Bdn7PdYeb/3my+e9KjXvzDyH46X8=&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" viewBox="0 0 681 481" style="cursor:pointer;max-width:100%;max-height:481px;"><defs/><g transform="translate(0.5,0.5)"><path d="M 480 220 L 487.18 291.8" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 487.78 297.78 L 483 290.21 L 487.18 291.8 L 490.96 289.42 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="140" y="80" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(151.5,96.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:google-commute <br />{:method "Walk"}<br /></div></div></foreignObject><text x="48" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="0" y="80" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(11.5,96.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:google-commute <br />{:method "Public"}<br /></div></div></foreignObject><text x="48" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="280" y="80" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(291.5,96.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:google-commute <br />{:method "Car"}<br /></div></div></foreignObject><text x="48" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:google-commute &lt;br&gt;{:method "Car"}&lt;br&gt;</text></switch></g><rect x="420" y="80" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(430.5,103.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="98" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-channels<br /></div></div></foreignObject><text x="49" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:podcast-channels&lt;br&gt;</text></switch></g><rect x="420" y="160" width="120" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(430.5,183.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="98" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-episodes<br /></div></div></foreignObject><text x="49" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:podcast-episodes&lt;br&gt;</text></switch></g><rect x="430" y="170" width="120" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(440.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="98" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-episodes<br /></div></div></foreignObject><text x="49" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:podcast-episodes&lt;br&gt;</text></switch></g><rect x="440" y="180" width="120" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(450.5,196.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="98" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-episodes<br />{:channel "&lt;id&gt;"}<br /></div></div></foreignObject><text x="49" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="420" y="0" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(425.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 108px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-credentials<br /></div></div></foreignObject><text x="54" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:podcast-credentials&lt;br&gt;</text></switch></g><rect x="560" y="0" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(565.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 108px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-credentials<br /></div></div></foreignObject><text x="54" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:podcast-credentials&lt;br&gt;</text></switch></g><rect x="560" y="80" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(568.5,103.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:podcast-favourites<br /></div></div></foreignObject><text x="51" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:podcast-favourites&lt;br&gt;</text></switch></g><path d="M 550 360 L 425.5 416.59" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 420.04 419.07 L 425.66 412.12 L 425.5 416.59 L 428.97 419.41 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="425" y="300" width="250" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g transform="translate(517.5,323.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="64" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 66px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">All podcasts</div></div></foreignObject><text x="32" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">All podcasts</text></switch></g><path d="M 480 60 L 480 71.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 480 77.76 L 476 69.76 L 480 71.76 L 484 69.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 480 140 L 480 151.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 480 157.76 L 476 149.76 L 480 151.76 L 484 149.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 60 L 620 71.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 77.76 L 616 69.76 L 620 71.76 L 624 69.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 140 L 613.36 291.77" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 613.1 297.77 L 609.45 289.6 L 613.36 291.77 L 617.44 289.95 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="280" y="0" width="120" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><g transform="translate(288.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:google-credentials<br /></div></div></foreignObject><text x="51" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:google-credentials&lt;br&gt;</text></switch></g><rect x="0" y="0" width="120" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><g transform="translate(8.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:google-credentials<br /></div></div></foreignObject><text x="51" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:google-credentials&lt;br&gt;</text></switch></g><rect x="140" y="0" width="120" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><g transform="translate(148.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">:google-credentials<br /></div></div></foreignObject><text x="51" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">:google-credentials&lt;br&gt;</text></switch></g><path d="M 60 60 L 60 71.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 77.76 L 56 69.76 L 60 71.76 L 64 69.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 60 L 200 71.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 77.76 L 196 69.76 L 200 71.76 L 204 69.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 340 60 L 340 71.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 340 77.76 L 336 69.76 L 340 71.76 L 344 69.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 240 L 289.22 412.68" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 291.97 418.01 L 284.75 412.74 L 289.22 412.68 L 291.86 409.07 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="75" y="180" width="250" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g transform="translate(163.5,203.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 74px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">All commutes</div></div></foreignObject><text x="36" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">All commutes</text></switch></g><path d="M 60 140 L 130.67 176.24" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 136.01 178.98 L 127.07 178.89 L 130.67 176.24 L 130.72 171.77 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 140 L 200 171.76" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 200 177.76 L 196 169.76 L 200 171.76 L 204 169.76 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 340 140 L 270.31 176.2" fill="none" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 264.98 178.97 L 270.24 171.73 L 270.31 176.2 L 273.93 178.83 Z" fill="#00ffff" stroke="#00ffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="230" y="420" width="250" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="none"/><g transform="translate(337.5,443.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 36px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Result</div></div></foreignObject><text x="17" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Result</text></switch></g></g></svg>
          <aside class="notes">
            How would we organise these fetches?
            Some are duplicated.
            Some can be done in parallel.
            Some depend on each other.
            We could solve some of these issues using promise chaining or core.async but we'd need a lot of
            plumbing code, and refactoring could be difficult.
          </aside>
        </section>

        <section>
          <h2>Muse</h2>
          <br/>
          <img class="stretch no-border" src="img/muse-band.jpg"/>
        </section>

        <section>
          <h2>Muse</h2>
          <pre><code class="hljs" data-trim>
(def google-auth
  (->Request :google-credentials {}))
          </code></pre>

          <aside class="notes">
            Here's a library called Urania that will let us ascend to the next level.
            We can create a request building block like this...
          </aside>
        </section>

        <section>
          <h2>Dependent muse</h2>
          <pre><code class="hljs" data-trim>
(def public-transport
  (->> google-auth
       (u/mapcat (fn [creds]
                   (->Request :google-commute
                              {:method "Public"
                               :auth creds})))))
          </code></pre>

          <aside class="notes">
            And describe dependencies like this. This builds an AST of the dependencies of the graph.
          </aside>
        </section>

        <section>
          <h2>Dependent muse...</h2>
          <pre><code class="hljs" data-trim>
(def commute-durations
  (->> (u/collect [public-transport walking car])
       (u/map (fn [[public walking car]]
                {:public  (:duration public)
                 :walking (:duration walking)
                 :car     (:duration car)}))))
          </code></pre>

          <aside class="notes">
            We can compose muses declaring only their dependencies.
            We don't need to worry about transient dependencies.
          </aside>
        </section>

        <section>
          <h2>...dependent muse</h2>
          <pre><code class="hljs" data-trim>
(def perfect-podcasts
  (->> (u/collect [commute-durations podcasts])
       (u/map (fn [[{:keys [public walking car]} podcasts]]
                {:public  (of-duration podcasts public)
                 :walking (of-duration podcasts walking)
                 :car     (of-duration podcasts car)}))))
          </code></pre>

          <aside class="notes">
            Each muse does one thing, making it small and easy to read.
            You write them "dumb" i.e. no attempt to remove duplicate calls
            It's all pure "business logic", no mention of HTTP, threads, callbacks
          </aside>
        </section>

        <section>
          <h2>Execution</h2>
          <pre><code class="hljs" data-trim>
              (u/run! muse {:env {:martian martian}})
          </code></pre>

          <aside class="notes">
            Because we've described the whole graph before executing it, Urania can do several things at execution time:
            Identify duplicates (same operation / arguments)
            Parallelise (when two or more muses have no interdependencies)
            Batch calls together if a bulk endpoint exists that can handle them
          </aside>
        </section>

        <section>
          <h2>Refactoring</h2>
          <br/>
          <img class="stretch no-border" src="img/refactoring.gif"/>
          <aside class="notes">
            Urania makes refactoring really easy because you can compose any muse with any other muse.
            This lets you build reusable building blocks and combine them in any way you wish
          </aside>
        </section>

        <section>
          <h2>Graphs</h2>
          <br/>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="432px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36&quot; version=&quot;8.8.1&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;20b34290-c1cf-30fe-a1e2-ceb268f04721&quot; name=&quot;Page-1&quot;&gt;5VrLctowFP0ath1LMsZZJiRtF+1Mp5lpku4UW9hqhEWFCNCvr4SvXyhOmRDM2GUB1tH7nHuv9WBEpvPNJ0UX6VcZMzHCXrwZkesRxj4m5tsC2xyYBDgHEsXjHEIVcMv/MAA9QFc8ZstGQS2l0HzRBCOZZSzSDYwqJdfNYjMpmr0uaMIc4DaiwkXveKxTQIOxX2V8ZjxJi65RcJHnPNLoKVFylUGHI0xmu0+ePadFYzDTZUpjua5B5GZEpkpKnT/NN1MmLLcFb3m9jy255cAVy/QhFUIYht4Wc2exoQKSmczMz9VuPszW8Ewq1XNhHpF5ZBuu7y38YQypB8gp52Vr/GJab0FlutLSQFLpVCYyo+KLlIuiklbyiU2lkGo3FhJEIXuclTmFFth2lmm1rfVtkw/Q34wLUWslpiycRQbP52on2MoWQEu5UhGUAtPVVCUMSpFSKeMBTM6Z6dwUUUxQzZ+brVOwxaQsV1b9JrnpF3vgNsgHowCvKY2kaCIfAtSqRDUPtWFU0E7ql2WHOT1TsYLRXjqGUKlutVmnXLPbBd2xsjZe37SENsrbJYURMKXZ5nU5XKKLCqhJGCKQXldOGwCU1tw18NqlaZD6CoMXJ3Kc1+z65E71vo5DXMfxj3ScQ9Uhjn1fDcC+CerOvn2HwekAGPS97hgcD4NBvMdghzYYDINBsscg7o7ByXFvqUG/i45dxB2qAervUiEOHoNxcIg8ZoeDo7fLg5CrD8JdCYScOPPDlUwIs/tk/44xdLnIt6QzvrF6tjLVzvY7BB0yOd/SGLm7i4eh8Yk7DOLIXc32n89wj88O7bM8ezkuIKPWcNz3YOy/EIwnHQXjckBHvi3bxEFDFCfs6k3p7grveh+JLvYikd9hZHd3OD97z2d4vi13scw/3VK79+Fj8kL4CLoKH5PhLWT8vUP7Ls/oMD61ufd+KROe09xDx9zv+27u5Jzm7q4+RjgQ2nIhdxdpUTnp4PfKXqGaKRPPy+9fKyhI7O+UGgfhEbVdJPYau2jMjCNvLy/nSGbY001tmpSD39X1AYgKnmQmGRm2mcGvrBZ2CJeQMedxLNqMoenIdojgewS/j7jhuKHt2JW2PE+va7t/Tfkmbd3T8mO0/c52sgo+Y/+9qsTvTFaTrP66kF9LV/8PITd/AQ==&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" viewBox="0 0 432 458" style="cursor:pointer;max-width:100%;max-height:458px;"><defs/><g transform="translate(0.5,0.5)"><path d="M 71 167 L 71 278.76" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 284.76 L 67 276.76 L 71 278.76 L 75 276.76 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="41" y="107" width="60" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(66.5,130.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">A</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">A</text></switch></g><path d="M 71 347 L 71 368.76" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 374.76 L 67 366.76 L 71 368.76 L 75 366.76 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="41" y="287" width="60" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(66.5,310.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">B</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">B</text></switch></g><rect x="41" y="377" width="60" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(66.5,400.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">C</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">C</text></switch></g><rect x="51" y="387" width="60" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(76.5,410.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">C</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">C</text></switch></g><rect x="61" y="397" width="60" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><g transform="translate(86.5,420.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">C</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">C</text></switch></g><path d="M 71 287 L 71 287" fill="none" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 287 L 71 287 L 71 287 L 71 287 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 331 167 L 331 188.76" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 331 194.76 L 327 186.76 L 331 188.76 L 335 186.76 Z" fill="#d6b656" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="331" cy="137" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(326.5,130.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">V</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">V</text></switch></g><ellipse cx="331" cy="227" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(326.5,220.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Y</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Y</text></switch></g><ellipse cx="341" cy="237" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(336.5,230.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Y</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Y</text></switch></g><path d="M 372 268 L 377.74 288.08" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 379.39 293.85 L 373.34 287.26 L 377.74 288.08 L 381.03 285.06 Z" fill="#d6b656" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 330 268 L 324.26 288.08" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 322.61 293.85 L 320.97 285.06 L 324.26 288.08 L 328.66 287.26 Z" fill="#d6b656" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="351" cy="247" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(344.5,240.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 12px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">W</div></div></foreignObject><text x="6" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">W</text></switch></g><ellipse cx="341" cy="407" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(336.5,400.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Z</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Z</text></switch></g><path d="M 401 347 L 367.82 380.18" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 363.58 384.42 L 366.41 375.93 L 367.82 380.18 L 372.07 381.59 Z" fill="#d6b656" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="401" cy="317" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(396.5,310.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Y</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Y</text></switch></g><path d="M 301 347 L 316.39 378.6" fill="none" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 319.02 383.99 L 311.92 378.55 L 316.39 378.6 L 319.11 375.05 Z" fill="#d6b656" stroke="#d6b656" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="301" cy="317" rx="30" ry="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(296.5,310.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="8" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 10px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">X</div></div></foreignObject><text x="4" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">X</text></switch></g><g transform="translate(-0.5,-0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="143" height="74" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 32px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 143px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#00ffff">Canonical graph</font></div></div></foreignObject><text x="72" y="53" fill="#000000" text-anchor="middle" font-size="32px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(276.5,-0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="74" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 32px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 108px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#00ffff">Real life</font></div></div></foreignObject><text x="54" y="53" fill="#000000" text-anchor="middle" font-size="32px" font-family="Helvetica">[Not supported by viewer]</text></switch></g></g></svg>
          <aside class="notes">
            The area I'm applying this to is building a GraphQL facade over a large number of midi REST services.
            Currently to build a UI for the system requires talking to at least several of these services and joining the
            results of many calls together to form a view that makes sense - the "canonical" graph.

            The aim is for UIs to be very easy and simple to write,
            and possibly even serverless. With any part of the full graph available with a simple
            structured query we can concentrate fully on the display layer and build it faster and better.
          </aside>
        </section>

        <section>
          <h2>Resolution</h2>
          <br/>
          <img class="stretch no-border" src="img/che.jpg"/>

          <aside class="notes">
            I want to use Lacinia resolvers to build a Urania AST.
            Lacinia understands my canonical graph so provides resolvers for each of those nodes,
            but the backing data services don't necessarily map directly to them.
            Sometimes I am forced to look ahead or behind - the classic case is a 1+n relationship
            where I can do a more efficient bulk query for the n children at the parent level
            rather than letting Lacinia attempt to resolve each child individually.
          </aside>
        </section>

				<section data-background-image="img/curiosity-tracks.jpg" style="text-align: left;">
          <h1>Thanks</h1>
          <br/><br/><br/><br/>
          <div style="text-align: center; vertical-align: bottom; bottom: 0;">
            <a style="color: white" class="github" target="_blank" href="https://github.com/oliyh/martian">
              <img class="logo" src="img/github.png"/>
              oliyh/martian
            </a>
            <a style="color: white" class="github" target="_blank" href="https://github.com/funcool/urania">
              funcool/urania
            </a>
            <a style="color: white" class="github" target="_blank" href="https://github.com/walmartlabs/lacinia">
              walmartlabs/lacinia
            </a>
          </div>

          <aside class="notes">
            Thanks
            Questions?
          </aside>
        </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
			history: true,
      margin: 0,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});

      // setTimeout(window.location.reload.bind(window.location), 5000);
		</script>
	</body>
</html>
